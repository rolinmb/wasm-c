<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>wasm-c</title>
    <script src="main.js"></script>
  </head>
  <body>
    <p>Welcome to index.html, hosted from src/go/main.go</p>
    <script>
      function run_wasm() {
        var addNums = Module.cwrap(
          "addNums",
          "number",
          ["number", "number"]
        );
        var result = Module.ccall(
          "main",
          "number",
          null,
          null
        );
        console.log("main() from ccall(): ",result);
        var a = document.getElementById("num-a").value;
        var b = document.getElementById("num-b").value;
        result = Module.ccall(
          "addNums",
          "number",
          ["number", "number"],
          [a, b]
        );
        console.log("addNums(a, b) from ccall():",result);
        result = addNums(a, b);
        console.log("addNums(a, b) from cwrap(): ",result);
      }
    </script>
    <label>
      a = <input id="num-a" type="number">
    </label>
    <label>
      b = <input id="num-b" type="number">
    </label>
    <button onclick="run_wasm()">Call addNum(a, b) from WASM</button>
  </body>
</html>
